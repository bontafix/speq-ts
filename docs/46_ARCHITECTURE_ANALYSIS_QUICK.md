# –ö—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ speq-ts

> –î–∞—Ç–∞: 27 —è–Ω–≤–∞—Ä—è 2026
> –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞**: Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Node.js + TypeScript, PostgreSQL + pgvector, Fastify, Telegraf  
**–†–∞–∑–º–µ—Ä**: ~125 —Ñ–∞–π–ª–æ–≤, ~15,000-20,000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (~1000 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è

- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç**: 99 –≤—Ö–æ–∂–¥–µ–Ω–∏–π –≤ 6 —Ñ–∞–π–ª–∞—Ö
  ```typescript
  const createdAt = row.created_at instanceof Date 
    ? row.created_at.toISOString() 
    : new Date(row.created_at).toISOString();
  ```
  
- **–í–∞–ª–∏–¥–∞—Ü–∏—è ID**: 24 –≤—Ö–æ–∂–¥–µ–Ω–∏—è –≤ 3 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
  ```typescript
  const userId = parseInt(id, 10);
  if (isNaN(userId)) throw new Error("Invalid user ID");
  ```

- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ 3 —Å–µ—Ä–≤–∏—Å–∞—Ö
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ UPDATE-–∑–∞–ø—Ä–æ—Å—ã**: –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ 4 —Å–µ—Ä–≤–∏—Å–∞—Ö
- **HTTP-–ª–æ–≥–∏–∫–∞ –≤ LLM**: –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –º–µ–∂–¥—É OllamaProvider –∏ OpenAIProvider

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≤ `src/api/shared/utils/`

---

### 2. –î–≤–∞ –ø—É–ª–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π PostgreSQL

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è

**–ü—Ä–æ–±–ª–µ–º–∞**:
- `src/db/pg.ts` ‚Üí `pgPool` (max: 20) ‚Äî –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤, –±–æ—Ç–∞, CLI
- `src/api/core/database/pool.ts` ‚Üí `fastify.db` (max: 20) ‚Äî –¥–ª—è API
- **–†–∏—Å–∫**: –¥–æ 40 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –ø–∏–∫–µ –Ω–∞–≥—Ä—É–∑–∫–∏

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ë–î
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `checkDatabaseHealth()`

**–†–µ—à–µ–Ω–∏–µ**: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–∏–Ω –ø—É–ª –∏–∑ `src/db/pg.ts`

---

### 3. –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥ (~700 —Å—Ç—Ä–æ–∫, 7 —Ñ–∞–π–ª–æ–≤)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

**–§–∞–π–ª—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ**:
- `src/llm/ollama.client.ts` ‚Äî –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ OllamaProvider
- `src/normalization/parameter-name-mapper.ts` ‚Äî –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ —Å–ª–æ–≤–∞—Ä—å –ë–î
- `src/telegram/telegram.search.ts` ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `src/telegram/category.match.ts` ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `src/api/shared/utils/password.ts` ‚Äî 100% –¥—É–±–ª–∏–∫–∞—Ç lib/password.ts
- `src/scripts/seed-parameter-dictionary.ts` ‚Äî —É—Å—Ç–∞—Ä–µ–ª
- `src/scripts/check-equipment-params.ts` ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ 7 —Ñ–∞–π–ª–æ–≤

---

### 4. –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π telegram/index.ts

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

**–ü—Ä–æ–±–ª–µ–º–∞**:
- 881 —Å—Ç—Ä–æ–∫–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –°–º–µ—à–∞–Ω—ã: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —É—Ç–∏–ª–∏—Ç—ã
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ messageIds, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏)
- –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

**–†–µ—à–µ–Ω–∏–µ**: –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏
```
telegram/
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ command.handler.ts
‚îÇ   ‚îú‚îÄ‚îÄ text.handler.ts
‚îÇ   ‚îî‚îÄ‚îÄ callback.handler.ts
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ session.service.ts
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ message.utils.ts
```

---

### 5. –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ParameterDictionary` –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –¥–≤–∞–∂–¥—ã:
- `src/normalization/` ‚Äî snake_case —Ñ–æ—Ä–º–∞—Ç
- `src/api/modules/parameter-dictionary/` ‚Äî camelCase —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ `src/shared/types/`

---

## –°–ø–æ—Å–æ–±—ã —Ä–µ—à–µ–Ω–∏—è (Quick Wins)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (5-8 —á–∞—Å–æ–≤)

#### 1.1. –£–¥–∞–ª–∏—Ç—å –º—ë—Ä—Ç–≤—ã–π –∫–æ–¥ (1-2 —á–∞—Å–∞)
```bash
rm src/api/shared/utils/password.ts
rm src/llm/ollama.client.ts
rm src/normalization/parameter-name-mapper.ts
rm src/telegram/telegram.search.ts
rm src/telegram/category.match.ts
rm src/scripts/seed-parameter-dictionary.ts
rm src/scripts/check-equipment-params.ts
```

#### 1.2. –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (2-3 —á–∞—Å–∞)

**src/api/shared/utils/date.ts**:
```typescript
export function formatDate(date: Date | string): string {
  return date instanceof Date 
    ? date.toISOString() 
    : new Date(date).toISOString();
}
```

**src/api/shared/utils/validation.ts**:
```typescript
export function parseId(id: string, entityName: string): number {
  const parsed = parseInt(id, 10);
  if (isNaN(parsed)) {
    throw new ValidationError(`Invalid ${entityName} ID`);
  }
  return parsed;
}
```

**src/api/shared/utils/pagination.ts**:
```typescript
export function calculatePagination(page?: number, limit?: number) {
  const safePage = page && page > 0 ? page : 1;
  const safeLimit = limit && limit > 0 ? limit : 20;
  return {
    page: safePage,
    limit: safeLimit,
    offset: (safePage - 1) * safeLimit
  };
}
```

**src/api/shared/utils/query-builder.ts**:
```typescript
export class UpdateQueryBuilder {
  private updates: string[] = [];
  private values: any[] = [];
  private paramIndex = 1;
  
  addField(field: string, value: any, dbField?: string): this {
    if (value !== undefined) {
      updates.push(`${dbField || field} = $${this.paramIndex++}`);
      values.push(value);
    }
    return this;
  }
  
  build(table: string, idField: string, idValue: any): { sql: string; values: any[] } {
    if (this.updates.length === 0) {
      throw new Error('No fields to update');
    }
    
    const sql = `UPDATE ${table} SET ${this.updates.join(', ')} WHERE ${idField} = $${this.paramIndex} RETURNING *`;
    return {
      sql,
      values: [...this.values, idValue]
    };
  }
}
```

#### 1.3. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (2-3 —á–∞—Å–∞)

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pgPool` –∏–∑ `src/db/pg.ts` –≤–µ–∑–¥–µ
2. –û–±–Ω–æ–≤–∏—Ç—å `databasePlugin` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—â–µ–≥–æ –ø—É–ª–∞
3. –û–±–Ω–æ–≤–∏—Ç—å `EquipmentRepository` –¥–ª—è DI –ø—É–ª–∞:
   ```typescript
   constructor(private pool: Pool) {}
   ```

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (10-15 —á–∞—Å–æ–≤)

#### 2.1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ telegram/index.ts (4-6 —á–∞—Å–æ–≤)
- –í—ã–Ω–µ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ handlers/
- –°–æ–∑–¥–∞—Ç—å SessionService –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏—è–º–∏
- –í—ã–Ω–µ—Å—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

#### 2.2. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (1-2 —á–∞—Å–∞)
- –°–æ–∑–¥–∞—Ç—å `src/shared/types/parameter-dictionary.ts`
- –û–±–Ω–æ–≤–∏—Ç—å –æ–±–∞ –º–æ–¥—É–ª—è

#### 2.3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (3-4 —á–∞—Å–∞)
- –°–æ–∑–¥–∞—Ç—å `BaseHTTPProvider` –¥–ª—è –æ–±—â–µ–π HTTP-–ª–æ–≥–∏–∫–∏
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

#### 2.4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (2-3 —á–∞—Å–∞)
- HashMap-–∏–Ω–¥–µ–∫—Å—ã –¥–ª—è O(1) –ø–æ–∏—Å–∫–∞ –≤–º–µ—Å—Ç–æ O(n)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à —Å–ª–æ–≤–∞—Ä—è

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- üì¶ –†–∞–∑–º–µ—Ä –∫–æ–¥–∞: ~15,000-20,000 —Å—Ç—Ä–æ–∫
- üóëÔ∏è –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: ~700 —Å—Ç—Ä–æ–∫
- üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: ~1,000 —Å—Ç—Ä–æ–∫
- üîå –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–î: –¥–æ 40 (—Ä–∏—Å–∫)
- üìÇ –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã: 1 (881 —Å—Ç—Ä–æ–∫–∞)

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
- üì¶ –†–∞–∑–º–µ—Ä –∫–æ–¥–∞: ~13,300-18,300 —Å—Ç—Ä–æ–∫ (**-5-6%**)
- üóëÔ∏è –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: 0 —Å—Ç—Ä–æ–∫ (**-700**)
- üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: ~500 —Å—Ç—Ä–æ–∫ (**-50%**)
- üîå –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–î: –¥–æ 20 (**-50%**)
- üìÇ –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã: 1 (–ø–æ–∫–∞)

### –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1+2)
- üì¶ –†–∞–∑–º–µ—Ä –∫–æ–¥–∞: ~13,000-18,000 —Å—Ç—Ä–æ–∫ (**-6-7%**)
- üóëÔ∏è –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: 0 —Å—Ç—Ä–æ–∫
- üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ
- üîå –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–î: –¥–æ 20
- üìÇ –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã: 0 (**—Ä–∞–∑–¥–µ–ª—ë–Ω**)

---

## –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–∞–¥–∞—á–∏ | –í—Ä–µ–º—è | –≠—Ñ—Ñ–µ–∫—Ç |
|-----------|--------|-------|--------|
| üî¥ –í—ã—Å–æ–∫–∏–π | –£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ + –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã + —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ë–î | 5-8 —á–∞—Å–æ–≤ | –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã |
| üü° –°—Ä–µ–¥–Ω–∏–π | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞ + LLM + –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | 10-15 —á–∞—Å–æ–≤ | –£–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ |
| üü¢ –ù–∏–∑–∫–∏–π | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ + –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + —Ç–∏–ø–∏–∑–∞—Ü–∏—è | 4-7 —á–∞—Å–æ–≤ | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–∞—Ç—å —Å –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1 (5-8 —á–∞—Å–æ–≤) –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

---

## –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API –º–æ–¥—É–ª–µ–π  
‚úÖ TypeScript strict mode  
‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫  
‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (controller ‚Üí service ‚Üí database)  
‚úÖ JSON Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è  
‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —Å fallback  
‚úÖ –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (FTS + Vector)  
‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω: `~/.cursor/plans/–∞–Ω–∞–ª–∏–∑_–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã_–ø—Ä–æ–µ–∫—Ç–∞_863d9278.plan.md`
2. üìã –û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: `docs/47_REFACTORING_PLAN.md`
3. üöÄ –ù–∞—á–∞—Ç—å —Å —É–¥–∞–ª–µ–Ω–∏—è –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ (1-2 —á–∞—Å–∞, –±—ã—Å—Ç—Ä–∞—è –ø–æ–±–µ–¥–∞)
4. üõ†Ô∏è –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (2-3 —á–∞—Å–∞)
5. üîß –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ë–î (2-3 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ –¥–æ –ø–µ—Ä–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: 5-8 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
